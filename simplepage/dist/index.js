"use strict";function go(e){$(".menu > li").eq(e).addClass("active").siblings().removeClass("active");var n=$(".slide>li>a>img").width();$(".slide > li").css({transform:"translateX("+-n*e+"px)"})}function play(){player&&(current=$(".menu > li.active").index()),4===(current+=1)&&(current=0),go(current)}var current=0,player=!1,setIndex=setInterval(play,3e3);$("#next").on("click",function(){player=!0,clearInterval(setIndex);var e=$(".menu > li.active").index();4===++e&&(e=0),go(e)}),$("#prev").on("click",function(){player=!0,clearInterval(setIndex);var e=$(".menu > li.active").index();-1===--e&&(e=3),go(e)}),$(".menu").on("click","li",function(e){player=!0,clearInterval(setIndex),go($(e.currentTarget).index())}),$(".slides").on("mouseover",function(){clearInterval(setIndex)}),$(".slides").on("mouseout",function(){setIndex=setInterval(play,3e3)});var loadingImage=new Image;loadingImage.src="https://i.loli.net/2017/08/08/5989307b6c87b.gif";var list=document.querySelector("#list"),loadMoreButton=document.querySelector("#loadMoreButton"),n=1,demand=!1;loadMoreButton.onclick=function(){if(!demand){var e=new XMLHttpRequest;e.open("GET","./page-"+(n+1)+".html"),e.onerror=function(){demand=!1},e.onload=function(){demand=!1,n+=1;for(var t=e.responseText,o=JSON.parse(t),a=0;a<o.content.length;a++){var l='\n                            <li>\n                                <div class="oneToOne">\n                                    <img src="https://i.loli.net/2017/08/08/5989307b6c87b.gif" data-xxx="'+o.content[a].url+'">\n                                </div>\n                                <h3><span>'+o.content[a].title+"</span></h3>\n                                <p>"+o.content[a].text+"</p>\n                            </li>";list.insertAdjacentHTML("beforeend",l)}!1===o.hasNextPage&&(loadMoreButton.disabled=!0,loadMoreButton.classList.add("active"))},demand=!0,e.send()}},window.onscroll=function(){var e=document.documentElement,n=(window.pageYOffset||e.scrollTop,e.clientTop,e.clientHeight);loadMoreButton.getBoundingClientRect().top<=n&&loadMoreButton.click();for(var t=document.querySelectorAll("img[data-xxx]"),o=0;o<t.length;o++)t[o].getBoundingClientRect().top<=n&&(t[o].src=t[o].getAttribute("data-xxx"),t[o].removeAttribute("data-xxx"))};