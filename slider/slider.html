<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>JS Bin</title>
  <style>
    body,ul{
      margin:0;
      padding:0;
      background: #F2F2F2;
    }
    ul{
      list-style:none;
    }
    .container{
      border:1px solid #E0E0E0;
      margin:50px auto;
      max-width:920px;
      border-bottom-left-radius:5px;
      border-bottom-right-radius: 5px; 
    }
    .controls{
      display:flex;
      overflow:hidden;
      max-width:920px;
      max-height:400px;
    }
    .controls > li{
      transition:transform .8s;
    }
    .controls-thumb{
      display:flex;
      justify-content:center;
      background: #f3f3f3;
    }
    .controls-thumb > li{
      position:relative;
      padding:12px 20px;
      display:flex;
      justify-content:center;
      align-items:center;
      border:1px solid #D8D8D8;
      margin:1px;
    }
    .active{
      background: #D8D8D8;
    }
    .controls-thumb li.active::before{
        content:'';
        display:block;
        position:absolute;
        top:0;
        width: 0;
        height: 0;
        border-left: 5px solid transparent;
        border-right: 5px solid transparent;
        border-top: 10px solid #D8D8D8;
        
    }
    .controls-thumb li.active::after{
        content:'';
        display:block;
        position:absolute;
        top:-1px;
        width: 0;
        height: 0;
        border-left: 5px solid transparent;
        border-right: 5px solid transparent;
        border-top: 9px solid #FFFFFF;
        
    }
  </style>
</head>
<body>
  <div class="container">
    <ul class="controls">
      <li>
        <img src="https://ooo.0o0.ooo/2017/06/21/5949ef76b3b3b.jpg" alt="">
      </li>
      <li>
        <img src="https://ooo.0o0.ooo/2017/06/21/5949ef9c1d0fc.jpg" alt="">
      </li>
      <li>
        <img src="https://ooo.0o0.ooo/2017/06/21/5949efd4020e1.jpg" alt="">
      </li>
      <li>
        <img src="https://ooo.0o0.ooo/2017/06/21/5949efb4869e3.jpg" alt="">
      </li>
    </ul>
    <ul class="controls-thumb">
      <li class="active"><img src="https://ooo.0o0.ooo/2017/06/21/5949efeb039a0.png" alt=""></li>
      <li><img src="https://ooo.0o0.ooo/2017/06/21/5949efef405fe.png" alt=""></li>
      <li><img src="https://ooo.0o0.ooo/2017/06/21/5949eff69c80e.png" alt=""></li>
      <li><img src="https://ooo.0o0.ooo/2017/06/21/5949eff69d4b1.png" alt=""></li>
    </ul>
  </div>
  <script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
  <script>
    $('.controls-thumb').on('click', 'li', function(e) {
      let $li = $(e.currentTarget);
      let index = $li.index();
      go(index);
    })

    function go(index) {
      $('.controls-thumb > li').eq(index).addClass('active').siblings().removeClass('active');
      let width = $('.controls>li>img').width();
      $('.controls > li').css({
        transform: 'translateX(' + (-width * index) + 'px)'
      })
    }

    let current = 0;
    let setIndex = setInterval(function() {
      let nextIndex = current + 1;
      if (nextIndex === 4) {
        nextIndex = 0
      }
      go(nextIndex);
      current = nextIndex
    }, 2000)
  </script>
</body>
</html>